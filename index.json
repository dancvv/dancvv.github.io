[{"categories":null,"content":"Docker learning script Docker 目前存在多个国内镜像，以阿里云网易云为主，可以选定永久的和临时的。加速服务需要去对应的网站选择，随后按照步骤配置进入本机 配置文档位于/etc/sysconfig/docker,，重启检查是否生效service docker restart. 运行hello world sample ","date":"2021-12-05","objectID":"/docker/:0:0","tags":null,"title":"Docker笔记","uri":"/docker/"},{"categories":null,"content":"基础命令 docker build docker pulldocker run ","date":"2021-12-05","objectID":"/docker/:1:0","tags":null,"title":"Docker笔记","uri":"/docker/"},{"categories":null,"content":"docker为什么快 容器，是一个运行时环境，也就是集装箱。比VM快的原因： 有更少抽象层，不需要HyperVisor实现硬件资源虚拟化，因此运行效率更高 利用宿主机的内核，而不需要Guest OS。当新建一个虚拟机时， 虚拟机需要重新加载一个操作系统内核。而docker直接利用宿主机内核，因此加载速度极快。 ","date":"2021-12-05","objectID":"/docker/:2:0","tags":null,"title":"Docker笔记","uri":"/docker/"},{"categories":null,"content":"docker 常用命令 ","date":"2021-12-05","objectID":"/docker/:3:0","tags":null,"title":"Docker笔记","uri":"/docker/"},{"categories":null,"content":"镜像命令 鲸鱼背上有大海 蓝色的大海中 »»\u003e 宿主机系统 鲸鱼 »»\u003e docker 集装箱 »»\u003e 容器实例 from 来自我们能的镜像模板 docker images 列出本地主机的镜像 可以使用唯一ID和仓库名来管理 -a 列出本地所有的镜像（含中间镜像层）-q 只显示当前镜像的id--digests 描述消息--no-trunc 显示完整信息 docker search 搜索某个镜像名字 搜索网站为docker hub docker pull 从官方抓取镜像 没写版本号，代表直接抓取最新版本 docker pull tomact 等价 docker pull tomcat:latest -docker rmi 移除镜像，remove images -f 强制删除 docker rmi -f 镜像ID docker rmi -f 镜像名1：tag 镜像名2：tag 删除全部docker rmi -f $(docker images -qa) 子命令解释，查询出docker所有镜像id，并删除 ","date":"2021-12-05","objectID":"/docker/:3:1","tags":null,"title":"Docker笔记","uri":"/docker/"},{"categories":null,"content":"容器命令 可以把容器看为一个简易版的Linux系统。有镜像才能创建容器，这是一个根本性的前提 新建并启动容器 docker run [options] image [command] –name 重命名 docker run -it --name mycentos centos 将centos重命名为mycentos -i 以交互模式运行容器，通常与-t同时使用 -t 为容器重新分配一个伪输入终端，通常-i同时使用 查看容器 docker ps查看当前所有进程 -a 列出所有正在运行的容器+历史上运行过的 -l 上一次运行的 -n 显示最近n个创建的容器 -q 静默模式，只显示容器编号 以上命令都可以组合使用 启动容器 docker start 容器ID或者容器名 退出容器 exit容器停止退出 ctrl + p + q容器不停止退出 重启容器 docker restart ID 关闭容器 kill 直接删除掉该进程 stop 温柔一些的停止 删除容器 docker rm 容器ID -f 强制删除 一次性删除多个镜像 docker rm -f $(docker ps -a -q) docker ps -a -q | xargs docker rm ","date":"2021-12-05","objectID":"/docker/:3:2","tags":null,"title":"Docker笔记","uri":"/docker/"},{"categories":null,"content":"创建conda环境，激活其他虚拟环境时报错 今天本来正常从github找到一个项目，打算按照常规操作跑起来看看结果，结果一下子出现一堆报错，一下子慌了神，bing（必应）了半天总算找到症结所在。 ","date":"2021-12-05","objectID":"/condafix/:0:0","tags":null,"title":"conda报错：An unexpected error has occurred. Conda has prepared the above report. Upload did not complete.","uri":"/condafix/"},{"categories":null,"content":"问题复现 创建环境、切换环境时，出现以下报错信息： C:\\Users\\windows\u003econda create -n na python=3.6 Collecting package metadata (current_repodata.json): failed # \u003e\u003e\u003e\u003e\u003e\u003e\u003e\u003e\u003e\u003e\u003e\u003e\u003e\u003e\u003e\u003e\u003e\u003e\u003e\u003e\u003e\u003e ERROR REPORT \u003c\u003c\u003c\u003c\u003c\u003c\u003c\u003c\u003c\u003c\u003c\u003c\u003c\u003c\u003c\u003c\u003c\u003c\u003c\u003c\u003c\u003c Traceback (most recent call last): File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\conda\\exceptions.py\", line 1079, in __call__ return func(*args, **kwargs) File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\conda\\cli\\main.py\", line 84, in _main exit_code = do_call(args, p) File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\conda\\cli\\conda_argparse.py\", line 83, in do_call return getattr(module, func_name)(args, parser) File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\conda\\cli\\main_create.py\", line 41, in execute install(args, parser, 'create') File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\conda\\cli\\install.py\", line 261, in install unlink_link_transaction = solver.solve_for_transaction( File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\conda\\core\\solve.py\", line 114, in solve_for_transaction unlink_precs, link_precs = self.solve_for_diff(update_modifier, deps_modifier, File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\conda\\core\\solve.py\", line 157, in solve_for_diff final_precs = self.solve_final_state(update_modifier, deps_modifier, prune, ignore_pinned, File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\conda\\core\\solve.py\", line 262, in solve_final_state ssc = self._collect_all_metadata(ssc) File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\conda\\common\\io.py\", line 88, in decorated return f(*args, **kwds) File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\conda\\core\\solve.py\", line 425, in _collect_all_metadata index, r = self._prepare(prepared_specs) File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\conda\\core\\solve.py\", line 1020, in _prepare reduced_index = get_reduced_index(self.prefix, self.channels, File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\conda\\core\\index.py\", line 288, in get_reduced_index new_records = SubdirData.query_all(spec, channels=channels, subdirs=subdirs, File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\conda\\core\\subdir_data.py\", line 140, in query_all result = tuple(concat(executor.map(subdir_query, channel_urls))) File \"D:\\ProgramData\\Anaconda3\\lib\\concurrent\\futures\\_base.py\", line 611, in result_iterator yield fs.pop().result() File \"D:\\ProgramData\\Anaconda3\\lib\\concurrent\\futures\\_base.py\", line 439, in result return self.__get_result() File \"D:\\ProgramData\\Anaconda3\\lib\\concurrent\\futures\\_base.py\", line 388, in __get_result raise self._exception File \"D:\\ProgramData\\Anaconda3\\lib\\concurrent\\futures\\thread.py\", line 57, in run result = self.fn(*self.args, **self.kwargs) File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\conda\\core\\subdir_data.py\", line 132, in \u003clambda\u003e subdir_query = lambda url: tuple(SubdirData(Channel(url), repodata_fn=repodata_fn).query( File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\conda\\core\\subdir_data.py\", line 145, in query self.load() File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\conda\\core\\subdir_data.py\", line 209, in load _internal_state = self._load() File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\conda\\core\\subdir_data.py\", line 371, in _load raw_repodata_str = fetch_repodata_remote_request( File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\conda\\core\\subdir_data.py\", line 694, in fetch_repodata_remote_request resp = session.get(join_url(url, filename), headers=headers, proxies=session.proxies, File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\requests\\sessions.py\", line 555, in get return self.request('GET', url, **kwargs) File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\requests\\sessions.py\", line 542, in request resp = self.send(prep, **send_kwargs) File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\requests\\sessions.py\", line 655, in send r = adapter.send(request, **kwargs) File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\requests\\adapters.py\", line 439, in send resp = conn.urlopen( File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\urllib3\\connectionpool.py\", line 696, ","date":"2021-12-05","objectID":"/condafix/:1:0","tags":null,"title":"conda报错：An unexpected error has occurred. Conda has prepared the above report. Upload did not complete.","uri":"/condafix/"},{"categories":null,"content":"解决方案 出现这个问题后，有比较多的解决方案： 使用命令清理缓存，conda clean -i 删除 ~/.condarc (C:\\Users\\admin) 关闭梯子（大杀招） 反正就是让人头大，解决方案希望对大家有用 ","date":"2021-12-05","objectID":"/condafix/:2:0","tags":null,"title":"conda报错：An unexpected error has occurred. Conda has prepared the above report. Upload did not complete.","uri":"/condafix/"},{"categories":null,"content":"Linux常用命令 一些感想 ","date":"2021-12-04","objectID":"/reading/:0:0","tags":null,"title":"Reading","uri":"/reading/"},{"categories":null,"content":"测试 ","date":"2021-12-04","objectID":"/reading/:1:0","tags":null,"title":"Reading","uri":"/reading/"},{"categories":null,"content":"第一次部署网站\u0026一些想法 ","date":"2021-11-21","objectID":"/first/:0:0","tags":null,"title":"第一次部署网站\u0026一些想法","uri":"/first/"},{"categories":null,"content":"一些废话 虽然这个标题叫“第一次部署网站”，但其实我私下里已经部署过另外一个博客了，所以实际上是第二次。之前部署的博客是基于halo这个动态博客框架，为什么会放弃这个已经部署好的网站，而选择另外的框架呢？ 主要原因是我比较折腾，halo提供的博客系统其实非常完善了，提供了完善的前后台管理，评论系统，搜索等功能，本来我也非常喜欢的。 但是有一个缺点我不太能接受，它需要登录到博客系统后台才能开始写文章，当然你也可以在本地创作完稿子，再把它复制粘贴到后台，然后发布。这个操作也不是不行，对于喜欢本地Markdown创作，然后push到博客上的同学来说，感觉比较别扭。 其实，最为主要的原因是动态博客需要服务器来进行部署，服务器虽然不是太贵，以腾讯云的轻量云服务器来说，第一次购买一年74元，再搭上一个域名，小两百就没了，所以能白嫖就白嫖。 静态博客系统相比于动态博客的优点在于网站部署可以完全不用服务器，也就是说可以省掉74块钱乃至更多，毕竟服务器续费需要花更多钱。 ","date":"2021-11-21","objectID":"/first/:1:0","tags":null,"title":"第一次部署网站\u0026一些想法","uri":"/first/"},{"categories":null,"content":"正文 部署一个不花钱的博客，有比较多的选项，常用的Github Pages + Hugo/Hexo 等其他静态博客系统，如果觉得Github访问过慢，可以采用国内的Gitee Pages，又或者使用其他云服务商提供的CDN加速。 个人推荐使用Hugo来构建自己的博客，倒也没啥太大的原因，就是因为我的电脑不能安装Hexo，就弃坑了（O(∩_∩)O哈哈~）。Hugo也很强大，Github 关注55.6k，而Hexo只有33.8k，用就用最热门的，出bug了也方便找。下面是部署使用的一些环境： 操作系统采用 Ubuntu 20.04 LTS，博客系统采用Hugo，静态托管使用Github Pages。 ","date":"2021-11-21","objectID":"/first/:2:0","tags":null,"title":"第一次部署网站\u0026一些想法","uri":"/first/"},{"categories":null,"content":"Hugo安装和配置 Hugo的安装比较简单，Windows平台需要进入Hugo官网下载Hugo，Ubuntu只需要在终端输入以下命令： sudo apt-get install hugo 不确定是否安装完成，可以验证一下： hugo version 确认安装完成之后，找到一个喜欢的目录 hugo new site myfirstblog 运行以上的命令会生成一个myfirstblog文件夹，请熟记这个目录，他就是以后的大本营，可千万别给删了，这个文件夹里包含了博客系统的所有文件。 创建完一个博客项目后，去官网选一个喜欢的主题 cd myfirstblog git clone https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod 在这里，我选择了一个比较经典的主题–PaperMod，使用git clone的方式下载themes文件夹中。每一个主题都有自己特有的配置，为了让这些配置生效，需要将它们写入到配置文档中。 Hugo提供了一个文档config.toml来编写自己的主题设置，该文件位于主目录下，以PaperMod主题为例，官方会提供一个完整的配置示例，在初期我们只要将这个配置复制粘贴就可以用了，后期上手之后可以做更多定制化的内容，配置如下： baseURL: \"https://examplesite.com/\" title: ExampleSite paginate: 5 theme: PaperMod enableRobotsTXT: true buildDrafts: false buildFuture: false buildExpired: false googleAnalytics: UA-123-45 minify: disableXML: true minifyOutput: true params: env: production # to enable google analytics, opengraph, twitter-cards and schema. title: ExampleSite description: \"ExampleSite description\" keywords: [Blog, Portfolio, PaperMod] author: Me # author: [\"Me\", \"You\"] # multiple authors images: [\"\u003clink or path of image for opengraph, twitter-cards\u003e\"] DateFormat: \"January 2, 2006\" defaultTheme: auto # dark, light disableThemeToggle: false ShowReadingTime: true ShowShareButtons: true ShowPostNavLinks: true ShowBreadCrumbs: true ShowCodeCopyButtons: false disableSpecial1stPost: false disableScrollToTop: false comments: false hidemeta: false hideSummary: false showtoc: false tocopen: false assets: # disableHLJS: true # to disable highlight.js # disableFingerprinting: true favicon: \"\u003clink / abs url\u003e\" favicon16x16: \"\u003clink / abs url\u003e\" favicon32x32: \"\u003clink / abs url\u003e\" apple_touch_icon: \"\u003clink / abs url\u003e\" safari_pinned_tab: \"\u003clink / abs url\u003e\" label: text: \"Home\" icon: /apple-touch-icon.png iconHeight: 35 # profile-mode profileMode: enabled: false # needs to be explicitly set title: ExampleSite subtitle: \"This is subtitle\" imageUrl: \"\u003cimg location\u003e\" imageWidth: 120 imageHeight: 120 imageTitle: my image buttons: - name: Posts url: posts - name: Tags url: tags # home-info mode homeInfoParams: Title: \"Hi there \\U0001F44B\" Content: Welcome to my blog socialIcons: - name: twitter url: \"https://twitter.com/\" - name: stackoverflow url: \"https://stackoverflow.com\" - name: github url: \"https://github.com/\" analytics: google: SiteVerificationTag: \"XYZabc\" bing: SiteVerificationTag: \"XYZabc\" yandex: SiteVerificationTag: \"XYZabc\" cover: hidden: true # hide everywhere but not in structured data hiddenInList: true # hide on list pages and home hiddenInSingle: true # hide on single page editPost: URL: \"https://github.com/\u003cpath_to_repo\u003e/content\" Text: \"Suggest Changes\" # edit text appendFilePath: true # to append file path to Edit link # for search # https://fusejs.io/api/options.html fuseOpts: isCaseSensitive: false shouldSort: true location: 0 distance: 1000 threshold: 0.4 minMatchCharLength: 0 keys: [\"title\", \"permalink\", \"summary\", \"content\"] menu: main: - identifier: categories name: categories url: /categories/ weight: 10 - identifier: tags name: tags url: /tags/ weight: 20 - identifier: example name: example.org url: https://example.org weight: 30 # Read: https://github.com/adityatelange/hugo-PaperMod/wiki/FAQs#using-hugos-syntax-highlighter-chroma # pygmentsUseClasses: true # markup: # highlight: # # anchorLineNos: true # codeFences: true # guessSyntax: true # lineNos: true # style: monokai 上面的操作完成了骨干的构建，下面开始完善博客的血肉，即文章内容，创建一篇新的文章采用以下命令： hugo new post/first.md 当前上面的操作准备就绪后，可以使用Hugo的功能进行本地预览 hugo server 开启服务后，在浏览器输入http://localhost:1313即可进入网站，在网站中可以看见刚下载好的主题和创建的第一篇文章。至此，Hugo的初步搭建就完成了，使用下面的命令可以完成Hugo的生产环境搭建： hugo -D ","date":"2021-11-21","objectID":"/first/:3:0","tags":null,"title":"第一次部署网站\u0026一些想法","uri":"/first/"},{"categories":null,"content":"Github Pages配置 完成上面的工作之后，就可以进行下面的工作，将自己的静态博客部署到Github Pages上，实现全网访问(理论上，受限于国内的网络)。 进入Github官网，点击右上方的\"+”，新建一个仓库，仓库名为\"xxx.github.io”，第一个xxx必须为用户的昵称，没有商量的余地。比如我的Github用户名为\"dancingmonkey”，那么仓库名就为\"dancingmonkey.github.io”，这个极容易出错，不按照命名规则来，可能就要花很长时间来debug了。 仓库创建好之后，将博客目录下的public文件夹中的所有内容上传到该仓库： cd public git init git commit -m \"first commit\" git remote add origin 仓库名 git push -u origin master 如果按照步骤来的话，每个配置都保持一致，那么这个时候你的博客就可以在全网访问了。追求更好的用户体验可以购买一个域名，在域名提供商的DNS解析处，将域名解析到对应的Github仓库名。同时，还需要在仓库的设置页面中，找到Pages设置项，在其中的Custom Domain(自定义域名)处输入自己购买的域名。 至此，使用Hugo和Github Pages搭建一个免费的静态博客就完成了，唯一需要额外花费的就是域名了。 ","date":"2021-11-21","objectID":"/first/:4:0","tags":null,"title":"第一次部署网站\u0026一些想法","uri":"/first/"},{"categories":null,"content":"一些感想 花了很长的时间才把网站部署起来，一方面是懒，云服务器买了，域名也买了，啥都齐了，但就是没把博客搞起来。现在回想起来，实际用来部署网站时间的，也就1个小时，剩下的时间都在找bug了。总是不相信别人的教程，每次都偏离一点路线，然后就出大错了。总结下来，一定要按步骤来，在复现结果之后在开始玩其他花样，还没有复现就开始玩花样等于找死。 ","date":"2021-11-21","objectID":"/first/:5:0","tags":null,"title":"第一次部署网站\u0026一些想法","uri":"/first/"}]